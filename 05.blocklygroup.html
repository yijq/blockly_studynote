<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>blockgroup</title>
	<script src="blockly_compressed.js"></script>
	<script src="blocks_compressed.js"></script>
	<script src="msg/js/zh-hans.js"></script>
	<style>
		.myLabelStyle>.blocklyFlyoutLabelText{
			font-style: italic;
			fill: #0ff;
		}
	</style>
</head>
<body>
	<div id="blocklyDiv" style="width: 500px;height: 500px"></div>
	<xml id="toolbox" style="display: none">
	  <category name="my_math" colour="123">
	  	<block type="logic_boolean" disabled="true"></block>
		<label text="my_label" web-class="myLabelStyle"></label>
	  	<label text="your_label"></label>
	  	<button text="my_button" callbackKey="clickMe"></button>
	  	<block type="math_number">
	  	  <field name="NUM">42</field>
	  	</block>
		<sep gap="40"></sep>
	  	<block type="controls_for">
	  	  <value name="FROM">
	  	    <block type="math_number">
	  	      <field name="NUM">1</field>
	  	    </block>
	  	  </value>
	  	  <value name="TO">
	  	    <block type="math_number">
	  	      <field name="NUM">10</field>
	  	    </block>
	  	  </value>
	  	  <value name="BY">
	  	    <block type="math_number">
	  	      <field name="NUM">1</field>
	  	    </block>
	  	  </value>
	  	</block>

	  	<block type="math_arithmetic">
	  	  <field name="OP">ADD</field>
	  	  <value name="A">
	  	    <shadow type="math_number">
	  	      <field name="NUM">1</field>
	  	    </shadow>
	  	  </value>
	  	  <value name="B">
	  	    <shadow type="math_number">
	  	      <field name="NUM">1</field>
	  	    </shadow>
	  	  </value>
	  	</block>
	  </category>

	</xml>
</body>
<script>
	Blockly.Blocks["my_block"] = {
		init: function(){
			
		}
	};

	var workspace = Blockly.inject("blocklyDiv",
		{toolbox: document.getElementById("toolbox")});

	var toolbox = "<xml>";
	toolbox += "<category name='logic' colour='50'>"
	toolbox += "<block type='controls_if'></block>";
	toolbox += "<block type='controls_whileUntil'></block>";
	toolbox += "</category>"
	toolbox += "<category name='my_block' colour='80'>"
	toolbox += "<block type='my_block'></block>";
	toolbox += "</category>"
	toolbox += "<category name='Variables' custom='VARIABLE'></category>"
	toolbox += "<category name='Functions' custom='PROCEDURE'></category>"
	toolbox += "<category name='Colours' custom='COLOUR_PALETTE'></category>"
	toolbox += "</xml>";


	workspace.registerButtonCallback("clickMe",function(){
		alert("I'm clicked!");
		workspace.updateToolbox(Blockly.Xml.textToDom(toolbox));
	});


</script>
</html>