<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="blockly_compressed.js"></script>
	<script src="blocks_compressed.js"></script>
	<script src="msg/js/en.js"></script>
	<script src="javascript_compressed.js"></script>
</head>
<body>
	<div id="blocklyDiv" style="width:800px;height:800px"></div>
	<xml id="toolbox">
		<block type="my_block"></block>	
	</xml>
</body>
<script>
	Blockly.Blocks["my_block"] = {
		init: function(){
			this.jsonInit({
  "type": "my_block",
  "message0": "%1 %2 %3 %4",
  "args0": [
    {
      "type": "field_input",
      "name": "inputValue",
      "text": "defaultValue"
    },
    {
      "type": "input_value",
      "name": "inputValue",
      "check": "String"
    },
    {
      "type": "field_input",
      "name": "NAME",
      "text": "defaultStatement"
    },
    {
      "type": "input_statement",
      "name": "inputStatement",
      "check": "String"
    }
  ],
  "output": null,
  "colour": 270,
  "tooltip": "this is tooltip",
  "helpUrl": "this is helpurl"
})
		}
	};

	var workspace = Blockly.inject("blocklyDiv",
		{toolbox: document.getElementById("toolbox")});

	Blockly.JavaScript['my_block'] = function(block) {
	  var text_inputvalue = block.getFieldValue('inputValue');
	  var value_inputvalue = Blockly.JavaScript.valueToCode(block, 'inputValue', Blockly.JavaScript.ORDER_ATOMIC);
	  var text_name = block.getFieldValue('NAME');
	  var statements_inputstatement = Blockly.JavaScript.statementToCode(block, 'inputStatement');
	  // TODO: Assemble JavaScript into code variable.
	  var code = 'js_code';
	  // TODO: Change ORDER_NONE to the correct strength.
	  return [code, Blockly.JavaScript.ORDER_NONE];
	};

	
	setTimeout(console.log(Blockly.JavaScript['my_block']()),100)
</script>
</html>